{% comment %}
  Copyright (C) 2019 Gitcoin Core

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published
  by the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not,see
  <http://www.gnu.org/licenses/>.
{% endcomment %}
{% load i18n static add_url_schema avatar_tags %}

<!DOCTYPE html>
<html lang="en">
  <head>
    {% include 'shared/head.html' %}
    {% include 'shared/cards.html' %}
  </head>
  <body class="{{ active }} bg-lightblue g-font-muli" >
    {% include 'shared/top_nav.html' with class='d-md-flex' %}
    {% include 'shared/nav.html' %}
    <div id="gc-board" v-cloak>

      <div class="header" style="min-height: 200px;">


      </div>
      <header class="container mt-n5 position-relative ">
        <div class="row">
          <div class="col-12">
            <div class="bg-white rounded p-3">
              <img :src="profile.avatar_url" alt="" width="68" height="68" class="rounded-circle"> Welcome, [[ profile.handle ]]!
            </div>
          </div>
        </div>
      </header>
      <section class="container">
        <div class="row">
          <div class="col-12">
            <div class="bg-white p-3">
                {% trans 'Notifications' %}
                <a href="{% url 'inbox:inbox_view' %}" class="">{% trans 'See all' %}</a>
              <ul class="notifications__list">
                <li v-for="notification in notifications" class="notifications__item" :key="notification.id">
                  <span class="notifications__item-readed">
                    <b class="notification__dot-small" v-bind:class="{'notification__dot-small_active': !notification.is_read}"></b>
                  </span>
                  <a :href="[[ notification.cta_url ]]" class="notifications_content" @click="e => !notification.is_read && markRead(notification.id)">
                    <img class="notifications__avatar" :src="'/dynamic/avatar/' + [[ notification.username ]]" width="28" height="28">
                    <p class="line-clamp" v-html="notification.message_html"></p>
                  </a>
                  <time class="notifications__time" :datetime="[[ notification.created_on ]]" :title="[[ notification.created_on ]]">
                    [[ notification.created_on | moment-fromnow ]]
                  </time>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <nav>
              <div class="nav nav-tabs" id="myTab" role="tablist">
                <a class="nav-item nav-link nav-line active" id="contributor-tab" data-toggle="tab" href="#nav-contributor" role="tab" aria-controls="contributor" aria-selected="true">Contributor</a>
                <a class="nav-item nav-link nav-line" id="funder-tab" data-toggle="tab" href="#nav-funder" role="tab" aria-controls="funder" aria-selected="false">Funder</a>
              </div>
            </nav>
            <div class="tab-content mt-3" id="nav-tabContent">
              <div class="tab-pane fade show active" id="nav-contributor" role="tabpanel" aria-labelledby="nav-contributor-tab">


                  <div class="row">
                    <div class="col-9 ">
                      <ul class="bg-white rounded">
                        <li v-for="bounty in bounties" :key="bounty.id">
                          <img :src="bounty.avatar_url" alt="" width="40" height="40">
                          <a :href="bounty.url">[[ bounty.title ]]</a>
                          <div v-for="interested in bounty.profile_pairs">
                            <img :src="`/dynamic/avatar/${interested[0]}`" alt="" width="40" height="40">
                            [[ interested[0] ]]
                          </div>
                        </li>
                      </ul>
                    </div>
                    <div class="col-3">
                      <div class="bg-white rounded">
                        Earnings
                        [[ profile.total_earned ]]
                      </div>
                    </div>
                  </div>

              </div>
              <div class="tab-pane fade" id="nav-funder" role="tabpanel" aria-labelledby="nav-funder-tab">
              funder
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    {% include 'shared/footer.html' %}
    {% include 'shared/analytics.html' %}
    {% include 'shared/footer_scripts.html' with slim=1 %}
    <script src="{% static "v2/js/lib/popper.min.js" %}"></script>
    <script src="{% static "v2/js/lib/bootstrap.min.js" %}" crossorigin="anonymous"></script>
    <script>
      var bootstrapTooltip = $.fn.tooltip.noConflict()
    </script>
    <script src="{% static "v2/js/board.js" %}"></script>

  </body>
</html>
